{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\nbcal\\\\Documents\\\\SMU\\\\Homework\\\\CyberMart\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\nbcal\\\\Documents\\\\SMU\\\\Homework\\\\CyberMart\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\nbcal\\\\Documents\\\\SMU\\\\Homework\\\\CyberMart\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\nbcal\\\\Documents\\\\SMU\\\\Homework\\\\CyberMart\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\nbcal\\\\Documents\\\\SMU\\\\Homework\\\\CyberMart\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\nbcal\\\\Documents\\\\SMU\\\\Homework\\\\CyberMart\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\nbcal\\\\Documents\\\\SMU\\\\Homework\\\\CyberMart\\\\client\\\\src\\\\auth\\\\SignIn.jsx\";\nimport React, { Component } from 'react';\nimport queryString from \"query-string\";\nimport auth from './auth-helper';\nimport { Redirect } from 'react-router-dom';\nimport { signin } from './apiAuth.js';\nimport './SignIn.css';\n\nvar SignIn =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignIn, _Component);\n\n  function SignIn() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SignIn);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SignIn)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      email: '',\n      password: '',\n      error: '',\n      redirectToReferrer: false\n    };\n\n    _this.clickSubmit = function () {\n      var user = {\n        email: _this.state.email || undefined,\n        password: _this.state.password || undefined\n      };\n      signin(user).then(function (data) {\n        if (data.error) {\n          _this.setState({\n            error: data.error\n          });\n        } else {\n          auth.authenticate(data, function () {\n            _this.setState({\n              redirectToReferrer: true\n            });\n          });\n        }\n      });\n    };\n\n    _this.handleChange = function (name) {\n      return function (event) {\n        _this.setState(_defineProperty({}, name, event.target.value));\n      };\n    };\n\n    return _this;\n  }\n\n  _createClass(SignIn, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var query = queryString.parse(this.props.location.search);\n\n      if (query.token) {\n        window.localStorage.setItem(\"jwt\", query.token);\n        this.props.history.push(\"/\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n\n      var _ref = this.props.location.state || {\n        from: {\n          pathname: '/'\n        }\n      },\n          from = _ref.from;\n\n      var redirectToReferrer = this.state.redirectToReferrer;\n\n      if (redirectToReferrer) {\n        return React.createElement(Redirect, {\n          to: from,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"SignIn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleOnSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Email:\")), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"email\",\n        type: \"text\",\n        value: this.state.email,\n        onChange: this.handleChange('email'),\n        className: this.state.errors.email ? 'error' : '',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), this.state.errors.email && React.createElement(\"div\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Required field\"))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Password:\")), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"password\",\n        type: \"text\",\n        value: this.state.password,\n        onChange: this.handleChange('password'),\n        className: this.state.errors.password ? 'error' : '',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), this.state.errors.password && React.createElement(\"div\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"Required field\"))), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.clickSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Submit\"))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"/auth/google\",\n        class: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        class: \"svgIcon t-popup-svg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"svg\", {\n        class: \"svgIcon-use\",\n        width: \"25\",\n        height: \"37\",\n        viewBox: \"0 0 25 25\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"g\", {\n        fill: \"none\",\n        \"fill-rule\": \"evenodd\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"path\", {\n        d: \"M20.66 12.693c0-.603-.054-1.182-.155-1.738H12.5v3.287h4.575a3.91 3.91 0 0 1-1.697 2.566v2.133h2.747c1.608-1.48 2.535-3.65 2.535-6.24z\",\n        fill: \"#4285F4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(\"path\", {\n        d: \"M12.5 21c2.295 0 4.22-.76 5.625-2.06l-2.747-2.132c-.76.51-1.734.81-2.878.81-2.214 0-4.088-1.494-4.756-3.503h-2.84v2.202A8.498 8.498 0 0 0 12.5 21z\",\n        fill: \"#34A853\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), React.createElement(\"path\", {\n        d: \"M7.744 14.115c-.17-.51-.267-1.055-.267-1.615s.097-1.105.267-1.615V8.683h-2.84A8.488 8.488 0 0 0 4 12.5c0 1.372.328 2.67.904 3.817l2.84-2.202z\",\n        fill: \"#FBBC05\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), React.createElement(\"path\", {\n        d: \"M12.5 7.38c1.248 0 2.368.43 3.25 1.272l2.437-2.438C16.715 4.842 14.79 4 12.5 4a8.497 8.497 0 0 0-7.596 4.683l2.84 2.202c.668-2.01 2.542-3.504 4.756-3.504z\",\n        fill: \"#EA4335\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      })))), React.createElement(\"span\", {\n        class: \"button-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Sign in with Google\")))));\n    }\n  }]);\n\n  return SignIn;\n}(Component);\n\nexport default SignIn;","map":{"version":3,"sources":["C:\\Users\\nbcal\\Documents\\SMU\\Homework\\CyberMart\\client\\src\\auth\\SignIn.jsx"],"names":["React","Component","queryString","auth","Redirect","signin","SignIn","state","email","password","error","redirectToReferrer","clickSubmit","user","undefined","then","data","setState","authenticate","handleChange","name","event","target","value","query","parse","props","location","search","token","window","localStorage","setItem","history","push","classes","from","pathname","handleOnSubmit","errors"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,IAAP,MAAiB,eAAjB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,MAAT,QAAuB,cAAvB;AACA,OAAO,cAAP;;IAEMC,M;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,KAAK,EAAE,EADD;AAENC,MAAAA,QAAQ,EAAE,EAFJ;AAGNC,MAAAA,KAAK,EAAE,EAHD;AAINC,MAAAA,kBAAkB,EAAE;AAJd,K;;UAORC,W,GAAc,YAAM;AAClB,UAAMC,IAAI,GAAG;AACXL,QAAAA,KAAK,EAAE,MAAKD,KAAL,CAAWC,KAAX,IAAoBM,SADhB;AAEXL,QAAAA,QAAQ,EAAE,MAAKF,KAAL,CAAWE,QAAX,IAAuBK;AAFtB,OAAb;AAKAT,MAAAA,MAAM,CAACQ,IAAD,CAAN,CACGE,IADH,CACQ,UAACC,IAAD,EAAU;AACd,YAAIA,IAAI,CAACN,KAAT,EAAgB;AACd,gBAAKO,QAAL,CAAc;AAAEP,YAAAA,KAAK,EAAEM,IAAI,CAACN;AAAd,WAAd;AACD,SAFD,MAEO;AACLP,UAAAA,IAAI,CAACe,YAAL,CAAkBF,IAAlB,EAAwB,YAAM;AAC5B,kBAAKC,QAAL,CAAc;AAAEN,cAAAA,kBAAkB,EAAE;AAAtB,aAAd;AACD,WAFD;AAGD;AACF,OATH;AAUD,K;;UAEDQ,Y,GAAe,UAAAC,IAAI;AAAA,aAAI,UAAAC,KAAK,EAAI;AAC9B,cAAKJ,QAAL,qBAAiBG,IAAjB,EAAwBC,KAAK,CAACC,MAAN,CAAaC,KAArC;AACD,OAFkB;AAAA,K;;;;;;;yCAKE;AACnB,UAAIC,KAAK,GAAGtB,WAAW,CAACuB,KAAZ,CAAkB,KAAKC,KAAL,CAAWC,QAAX,CAAoBC,MAAtC,CAAZ;;AACA,UAAIJ,KAAK,CAACK,KAAV,EAAiB;AACfC,QAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,KAA5B,EAAmCR,KAAK,CAACK,KAAzC;AACA,aAAKH,KAAL,CAAWO,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD;AACF;;;6BAEQ;AAAA,UACCC,OADD,GACa,KAAKT,KADlB,CACCS,OADD;;AAAA,iBAEU,KAAKT,KAAL,CAAWC,QAAX,CAAoBpB,KAApB,IAA6B;AAC5C6B,QAAAA,IAAI,EAAE;AACJC,UAAAA,QAAQ,EAAE;AADN;AADsC,OAFvC;AAAA,UAECD,IAFD,QAECA,IAFD;;AAAA,UAOCzB,kBAPD,GAOwB,KAAKJ,KAP7B,CAOCI,kBAPD;;AAQP,UAAIA,kBAAJ,EAAwB;AACtB,eAAQ,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAEyB,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAR;AACD;;AACD,aACE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,QAAQ,EAAE,KAAKE,cAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAH,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,IAAI,EAAC,OADP;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,KAAK,EAAE,KAAK/B,KAAL,CAAWC,KAHpB;AAIE,QAAA,QAAQ,EAAE,KAAKW,YAAL,CAAkB,OAAlB,CAJZ;AAKE,QAAA,SAAS,EAAE,KAAKZ,KAAL,CAAWgC,MAAX,CAAkB/B,KAAlB,GAA0B,OAA1B,GAAoC,EALjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAQG,KAAKD,KAAL,CAAWgC,MAAX,CAAkB/B,KAAlB,IAA2B;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAR9B,CAFF,CADF,EAeE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAH,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,IAAI,EAAC,UADP;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,KAAK,EAAE,KAAKD,KAAL,CAAWE,QAHpB;AAIE,QAAA,QAAQ,EAAE,KAAKU,YAAL,CAAkB,UAAlB,CAJZ;AAKE,QAAA,SAAS,EAAE,KAAKZ,KAAL,CAAWgC,MAAX,CAAkB9B,QAAlB,GAA6B,OAA7B,GAAuC,EALpD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAQG,KAAKF,KAAL,CAAWgC,MAAX,CAAkB9B,QAAlB,IAA8B;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BARjC,CAFF,CAfF,EA6BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,OAAO,EAAE,KAAKG,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CA7BF,CADF,EAkCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,IAAI,EAAC,cAAR;AAAuB,QAAA,KAAK,EAAC,QAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,KAAK,EAAC,qBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,KAAK,EAAC,aADR;AAEE,QAAA,KAAK,EAAC,IAFR;AAGE,QAAA,MAAM,EAAC,IAHT;AAIE,QAAA,OAAO,EAAC,WAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAME;AAAG,QAAA,IAAI,EAAC,MAAR;AAAe,qBAAU,SAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,CAAC,EAAC,uIADJ;AAEE,QAAA,IAAI,EAAC,SAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAKE;AACE,QAAA,CAAC,EAAC,oJADJ;AAEE,QAAA,IAAI,EAAC,SAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,EASE;AACE,QAAA,CAAC,EAAC,+IADJ;AAEE,QAAA,IAAI,EAAC,SAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATF,EAaE;AACE,QAAA,CAAC,EAAC,4JADJ;AAEE,QAAA,IAAI,EAAC,SAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAbF,CANF,CADF,CADF,EA4BE;AAAM,QAAA,KAAK,EAAC,cAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BA5BF,CADF,CADF,CAlCF,CADF;AAuED;;;;EAzHkBX,S;;AA6HrB,eAAeK,MAAf","sourcesContent":["import React, { Component } from 'react';\nimport queryString from \"query-string\";\nimport auth from './auth-helper'\nimport { Redirect } from 'react-router-dom'\nimport { signin } from './apiAuth.js'\nimport './SignIn.css';\n\nclass SignIn extends Component {\n  state = {\n    email: '',\n    password: '',\n    error: '',\n    redirectToReferrer: false\n  }\n\n  clickSubmit = () => {\n    const user = {\n      email: this.state.email || undefined,\n      password: this.state.password || undefined\n    }\n\n    signin(user)\n      .then((data) => {\n        if (data.error) {\n          this.setState({ error: data.error })\n        } else {\n          auth.authenticate(data, () => {\n            this.setState({ redirectToReferrer: true })\n          })\n        }\n      })\n  }\n\n  handleChange = name => event => {\n    this.setState({ [name]: event.target.value })\n  }\n\n\n  componentWillMount() {\n    var query = queryString.parse(this.props.location.search);\n    if (query.token) {\n      window.localStorage.setItem(\"jwt\", query.token);\n      this.props.history.push(\"/\");\n    }\n  }\n\n  render() {\n    const { classes } = this.props\n    const { from } = this.props.location.state || {\n      from: {\n        pathname: '/'\n      }\n    }\n    const { redirectToReferrer } = this.state\n    if (redirectToReferrer) {\n      return (<Redirect to={from} />)\n    }\n    return (\n      <div className=\"SignIn\">\n        <form onSubmit={this.handleOnSubmit}>\n          <div>\n            <p><strong>Email:</strong></p>\n            <p>\n              <input\n                name=\"email\"\n                type=\"text\"\n                value={this.state.email}\n                onChange={this.handleChange('email')}\n                className={this.state.errors.email ? 'error' : ''}\n              />\n              {this.state.errors.email && <div className=\"errorMessage\">Required field</div>}\n            </p>\n          </div>\n\n          <div>\n            <p><strong>Password:</strong></p>\n            <p>\n              <input\n                name=\"password\"\n                type=\"text\"\n                value={this.state.password}\n                onChange={this.handleChange('password')}\n                className={this.state.errors.password ? 'error' : ''}\n              />\n              {this.state.errors.password && <div className=\"errorMessage\">Required field</div>}\n            </p>\n          </div>\n\n          <p>\n            <button onClick={this.clickSubmit}>Submit</button>\n          </p>\n        </form>\n        <div>\n          <a href=\"/auth/google\" class=\"button\">\n            <div>\n              <span class=\"svgIcon t-popup-svg\">\n                <svg\n                  class=\"svgIcon-use\"\n                  width=\"25\"\n                  height=\"37\"\n                  viewBox=\"0 0 25 25\"\n                >\n                  <g fill=\"none\" fill-rule=\"evenodd\">\n                    <path\n                      d=\"M20.66 12.693c0-.603-.054-1.182-.155-1.738H12.5v3.287h4.575a3.91 3.91 0 0 1-1.697 2.566v2.133h2.747c1.608-1.48 2.535-3.65 2.535-6.24z\"\n                      fill=\"#4285F4\"\n                    />\n                    <path\n                      d=\"M12.5 21c2.295 0 4.22-.76 5.625-2.06l-2.747-2.132c-.76.51-1.734.81-2.878.81-2.214 0-4.088-1.494-4.756-3.503h-2.84v2.202A8.498 8.498 0 0 0 12.5 21z\"\n                      fill=\"#34A853\"\n                    />\n                    <path\n                      d=\"M7.744 14.115c-.17-.51-.267-1.055-.267-1.615s.097-1.105.267-1.615V8.683h-2.84A8.488 8.488 0 0 0 4 12.5c0 1.372.328 2.67.904 3.817l2.84-2.202z\"\n                      fill=\"#FBBC05\"\n                    />\n                    <path\n                      d=\"M12.5 7.38c1.248 0 2.368.43 3.25 1.272l2.437-2.438C16.715 4.842 14.79 4 12.5 4a8.497 8.497 0 0 0-7.596 4.683l2.84 2.202c.668-2.01 2.542-3.504 4.756-3.504z\"\n                      fill=\"#EA4335\"\n                    />\n                  </g>\n                </svg>\n              </span>\n              <span class=\"button-label\">Sign in with Google</span>\n            </div>\n          </a>\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default SignIn;\n"]},"metadata":{},"sourceType":"module"}